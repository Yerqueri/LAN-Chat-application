var os = require('os');
var ifaces = os.networkInterfaces();

exports.myIpAddress = function(lanorwifi){
    lanorwifi = typeof a !== 'undefined' ? 'eth0' : 'wlan0';
    theip = '';
    var ifaces = os.networkInterfaces();
    validip = [];
    for (var conn in ifaces) {
        if (ifaces[conn][0]['internal'] === false) {
            validip.push(conn);
        }
    }
    theip = ifaces[validip[0]][0]['address'];
    return theip;
};
